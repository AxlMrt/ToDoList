(()=>{"use strict";var e={d:(t,n)=>{for(var d in n)e.o(n,d)&&!e.o(t,d)&&Object.defineProperty(t,d,{enumerable:!0,get:n[d]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e,t){return e.dueDate<t.dueDate?-1:e.dueDate>t.dueDate?1:0}function n(e,t){return e.title<t.title?-1:e.title>t.title?1:0}function d(e){return!0===e.done?-1:e.done?(t(),0):1}function o(){const e=document.querySelector(".container");e.innerHTML="",c.forEach((t=>{const n=document.createElement("div"),d=document.createElement("input"),a=document.createElement("div"),s=document.createElement("button"),l=document.createElement("button");if(n.classList.add("card"),d.setAttribute("type","checkbox"),d.classList.add("toDo-check"),a.classList.add("todoContent"),s.classList.add("editBtn"),l.classList.add("dltBtn"),a.innerHTML=`<input type=text value="${t.title}" id="cardInput" readonly> <p>${t.dueDate}</p>`,s.textContent="Edit",l.textContent="Delete","high"===t.priority&&n.classList.add("high"),"middle"===t.priority&&n.classList.add("middle"),"low"===t.priority&&n.classList.add("low"),t.done){const e=a.querySelector("input");d.checked=!0,e.classList.add("done"),n.classList.add("doneCard")}d.addEventListener("change",(e=>{const d=a.querySelector("input");t.done=e.target.checked,t.done?(d.classList.add("done"),n.classList.add("doneCard")):(d.classList.remove("done"),n.classList.remove("doneCard")),localStorage.setItem("storeTasks",JSON.stringify(c))})),s.addEventListener("click",(e=>{const n=a.querySelector("input");n.removeAttribute("readonly"),n.focus(),n.addEventListener("blur",(e=>{n.setAttribute("readonly",!0),t.title=e.target.value,localStorage.setItem("storeTasks",JSON.stringify(c)),o()}))})),l.addEventListener("click",(e=>{c=c.filter((e=>e!=t)),localStorage.setItem("storeTasks",JSON.stringify(c)),o()})),e.appendChild(n),n.appendChild(d),n.appendChild(a),n.appendChild(s),n.appendChild(l)}))}e.d({},{o:()=>c});const a=document.getElementById("submitBtn"),s=document.getElementById("toDo-Form"),l=document.getElementById("sortTodo");let c=JSON.parse(localStorage.getItem("storeTasks"))||[];class r{constructor(e,t,n,d){this.title=e,this.inputDate=t,this.dueDate=n,this.priority=d}}a.addEventListener("click",(function(){const e=document.getElementById("title").value,t=document.getElementById("dueDate").value,n=new Date;let d="";if(!0===document.getElementById("low").checked&&(d=document.getElementById("low").value),!0===document.getElementById("middle").checked&&(d=document.getElementById("middle").value),!0===document.getElementById("high").checked&&(d=document.getElementById("high").value),document.getElementById("title").value="",document.getElementById("dueDate").value="",document.getElementById("low").checked=!1,document.getElementById("middle").checked=!1,document.getElementById("high").checked=!1,""===e||""===t)return alert("Vous devez remplir les champs.");const a=new r(e,n,t,d);c.push(a),localStorage.setItem("storeTasks",JSON.stringify(c)),o()})),s.addEventListener("submit",(function(e){e.preventDefault()})),l.addEventListener("change",(e=>{"0"===e.target.value&&(c.sort(t),localStorage.setItem("storeTasks",JSON.stringify(c)),o()),"1"===e.target.value&&(c.sort(n),localStorage.setItem("storeTasks",JSON.stringify(c)),o()),"2"===e.target.value&&(c.sort(d),localStorage.setItem("storeTasks",JSON.stringify(c)),o())})),window.addEventListener("load",(()=>{!function(){const e=document.getElementById("nameInput"),t=localStorage.getItem("username")||"";e.value=t,e.addEventListener("change",(e=>{localStorage.setItem("username",e.target.value)}))}(),o()}))})();