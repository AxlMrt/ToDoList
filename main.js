(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e,t){return e.dueDate<t.dueDate?-1:e.dueDate>t.dueDate?1:0}function n(e,t){return e.title<t.title?-1:e.title>t.title?1:0}function o(e){return!0===e.done?-1:e.done?(t(),0):1}function d(e){return e.done?!0===e.done?1:(t(),0):-1}function r(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:0}function a(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0}function s(){const e=document.querySelector(".container");e.innerHTML="",u.forEach((t=>{const n=document.createElement("div"),o=document.createElement("input"),d=document.createElement("div"),r=document.createElement("button"),a=document.createElement("button");if(n.classList.add("card"),o.setAttribute("type","checkbox"),o.classList.add("toDo-check"),d.classList.add("todoContent"),r.classList.add("editBtn"),a.classList.add("dltBtn"),d.innerHTML=`<input type=text value="${t.title}" id="cardInput" readonly> <p>${t.dueDate}</p>`,r.textContent="Edit",a.textContent="Delete","2"===t.priority&&n.classList.add("high"),"1"===t.priority&&n.classList.add("middle"),"0"===t.priority&&n.classList.add("low"),t.done){const e=d.querySelector("input");o.checked=!0,e.classList.add("done"),n.classList.add("doneCard")}o.addEventListener("change",(e=>{const o=d.querySelector("input");t.done=e.target.checked,t.done?(o.classList.add("done"),n.classList.add("doneCard")):(o.classList.remove("done"),n.classList.remove("doneCard")),localStorage.setItem("storeTasks",JSON.stringify(u))})),r.addEventListener("click",(e=>{const n=d.querySelector("input");n.removeAttribute("readonly"),n.focus(),n.addEventListener("blur",(e=>{n.setAttribute("readonly",!0),t.title=e.target.value,localStorage.setItem("storeTasks",JSON.stringify(u)),s()}))})),a.addEventListener("click",(e=>{u=u.filter((e=>e!=t)),localStorage.setItem("storeTasks",JSON.stringify(u)),s()})),e.appendChild(n),n.appendChild(o),n.appendChild(d),n.appendChild(r),n.appendChild(a)}))}e.d({},{o:()=>u});const i=document.getElementById("submitBtn"),l=document.getElementById("toDo-Form"),c=document.getElementById("sortTodo");let u=JSON.parse(localStorage.getItem("storeTasks"))||[];class m{constructor(e,t,n,o){this.title=e,this.inputDate=t,this.dueDate=n,this.priority=o}}i.addEventListener("click",(function(){const e=document.getElementById("title").value,t=document.getElementById("dueDate").value,n=new Date;let o="";if(!0===document.getElementById("low").checked&&(o=document.getElementById("low").value),!0===document.getElementById("middle").checked&&(o=document.getElementById("middle").value),!0===document.getElementById("high").checked&&(o=document.getElementById("high").value),document.getElementById("title").value="",document.getElementById("dueDate").value="",document.getElementById("low").checked=!1,document.getElementById("middle").checked=!1,document.getElementById("high").checked=!1,""===e||""===t)return alert("Vous devez remplir les champs.");const d=new m(e,n,t,o);u.push(d),localStorage.setItem("storeTasks",JSON.stringify(u)),s()})),l.addEventListener("submit",(function(e){e.preventDefault()})),c.addEventListener("change",(e=>{"0"===e.target.value&&(u.sort(t),localStorage.setItem("storeTasks",JSON.stringify(u)),s()),"1"===e.target.value&&(u.sort(n),localStorage.setItem("storeTasks",JSON.stringify(u)),s()),"2"===e.target.value&&(u.sort(o),localStorage.setItem("storeTasks",JSON.stringify(u)),s()),"3"===e.target.value&&(u.sort(d),localStorage.setItem("storeTasks",JSON.stringify(u)),s()),"4"===e.target.value&&(u.sort(r),localStorage.setItem("storeTasks",JSON.stringify(u)),s()),"5"===e.target.value&&(u.sort(a),localStorage.setItem("storeTasks",JSON.stringify(u)),s())})),window.addEventListener("load",(()=>{!function(){const e=document.getElementById("nameInput"),t=localStorage.getItem("username")||"";e.value=t,e.addEventListener("change",(e=>{localStorage.setItem("username",e.target.value)}))}(),s()}))})();