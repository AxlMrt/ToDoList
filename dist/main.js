(()=>{"use strict";var e={d:(t,n)=>{for(var d in n)e.o(n,d)&&!e.o(t,d)&&Object.defineProperty(t,d,{enumerable:!0,get:n[d]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(){const e=document.querySelector(".container");e.innerHTML="",g.forEach((n=>{const d=document.createElement("div"),o=document.createElement("input"),r=document.createElement("div"),s=document.createElement("button"),a=document.createElement("button");if(d.classList.add("card"),o.setAttribute("type","checkbox"),o.classList.add("toDo-check"),r.classList.add("todoContent"),s.classList.add("editBtn"),a.classList.add("dltBtn"),r.innerHTML=`<input type=text value="${n.title}" id="cardInput" readonly> <p>${n.dueDate}</p>`,s.textContent="Edit",a.textContent="Delete","2"===n.priority&&d.classList.add("high"),"1"===n.priority&&d.classList.add("middle"),"0"===n.priority&&d.classList.add("low"),n.done){const e=r.querySelector("input");o.checked=!0,e.classList.add("done"),d.classList.add("doneCard")}o.addEventListener("change",(e=>{const t=r.querySelector("input");n.done=e.target.checked,n.done?(t.classList.add("done"),d.classList.add("doneCard")):(t.classList.remove("done"),d.classList.remove("doneCard")),localStorage.setItem("storeTasks",JSON.stringify(g))})),s.addEventListener("click",(e=>{const d=r.querySelector("input");d.removeAttribute("readonly"),d.focus(),d.addEventListener("blur",(e=>{d.setAttribute("readonly",!0),n.title=e.target.value,localStorage.setItem("storeTasks",JSON.stringify(g)),t()}))})),a.addEventListener("click",(e=>{g=g.filter((e=>e!=n)),localStorage.setItem("storeTasks",JSON.stringify(g)),t()})),e.appendChild(d),d.appendChild(o),d.appendChild(r),d.appendChild(s),d.appendChild(a)}))}function n(e,t){return e.dueDate<t.dueDate?-1:e.dueDate>t.dueDate?1:0}function d(e,t){return e.title<t.title?-1:e.title>t.title?1:0}function o(e){return!0===e.done?-1:e.done?(n(),0):1}function r(e){return e.done?!0===e.done?1:(n(),0):-1}function s(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:0}function a(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0}e.d({},{o:()=>g}),document.getElementById("sortTodo").addEventListener("change",(e=>{"0"===e.target.value&&(g.sort(n),localStorage.setItem("storeTasks",JSON.stringify(g)),t()),"1"===e.target.value&&(g.sort(d),localStorage.setItem("storeTasks",JSON.stringify(g)),t()),"2"===e.target.value&&(g.sort(o),localStorage.setItem("storeTasks",JSON.stringify(g)),t()),"3"===e.target.value&&(g.sort(r),localStorage.setItem("storeTasks",JSON.stringify(g)),t()),"4"===e.target.value&&(g.sort(s),localStorage.setItem("storeTasks",JSON.stringify(g)),t()),"5"===e.target.value&&(g.sort(a),localStorage.setItem("storeTasks",JSON.stringify(g)),t())}));const i=document.getElementById("submitBtn"),c=document.getElementById("toDo-Form"),l=document.querySelector(".addTodo"),u=document.getElementById("addBtn"),m=document.querySelector(".customSelect");let g=JSON.parse(localStorage.getItem("storeTasks"))||[];class y{constructor(e,t,n,d){this.title=e,this.inputDate=t,this.dueDate=n,this.priority=d}}c.addEventListener("submit",(function(e){e.preventDefault()})),i.addEventListener("click",(()=>{!function(){const e=document.getElementById("title").value,n=document.getElementById("dueDate").value,d=new Date;let o="";if(!0===document.getElementById("low").checked&&(o=document.getElementById("low").value),!0===document.getElementById("middle").checked&&(o=document.getElementById("middle").value),!0===document.getElementById("high").checked&&(o=document.getElementById("high").value),document.getElementById("title").value="",document.getElementById("dueDate").value="",document.getElementById("low").checked=!1,document.getElementById("middle").checked=!1,document.getElementById("high").checked=!1,""===e||""===n||""===o)return alert("Vous devez remplir les champs.");const r=new y(e,d,n,o);g.push(r),localStorage.setItem("storeTasks",JSON.stringify(g)),t()}(),m.classList.remove("hidden"),l.classList.add("hidden")})),u.addEventListener("click",(()=>{l.classList.remove("hidden")})),window.addEventListener("load",(()=>{!function(){const e=document.getElementById("nameInput"),t=localStorage.getItem("username")||"";e.value=t,e.addEventListener("change",(e=>{localStorage.setItem("username",e.target.value)}))}(),t(),""!=document.querySelector(".container").innerHTML?m.classList.remove("hidden"):m.classList.add("hidden")}))})();