(()=>{"use strict";var e={d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e,t){return e.dueDate<t.dueDate?-1:e.dueDate>t.dueDate?1:0}function n(e,t){return e.title<t.title?-1:e.title>t.title?1:0}function a(e){return!0===e.done?-1:e.done?(t(),0):1}function s(){const e=document.querySelector(".container");e.innerHTML="",l.forEach((t=>{const n=document.createElement("div"),a=document.createElement("input"),o=document.createElement("div"),d=document.createElement("button"),r=document.createElement("button");if(n.classList.add("card"),a.setAttribute("type","checkbox"),a.classList.add("toDo-check"),o.classList.add("todoContent"),d.classList.add("editBtn"),r.classList.add("dltBtn"),o.innerHTML=`<input type=text value="${t.title}" id="cardInput" readonly> <p>${t.dueDate}</p>`,d.textContent="Edit",r.textContent="Delete",t.done){const e=o.querySelector("input");a.checked=!0,e.classList.add("done"),n.classList.add("doneCard")}a.addEventListener("change",(e=>{const a=o.querySelector("input");t.done=e.target.checked,t.done?(a.classList.add("done"),n.classList.add("doneCard")):(a.classList.remove("done"),n.classList.remove("doneCard")),localStorage.setItem("storeTasks",JSON.stringify(l))})),d.addEventListener("click",(e=>{const n=o.querySelector("input");n.removeAttribute("readonly"),n.focus(),n.addEventListener("blur",(e=>{n.setAttribute("readonly",!0),t.title=e.target.value,localStorage.setItem("storeTasks",JSON.stringify(l)),s()}))})),r.addEventListener("click",(e=>{l=l.filter((e=>e!=t)),localStorage.setItem("storeTasks",JSON.stringify(l)),s()})),e.appendChild(n),n.appendChild(a),n.appendChild(o),n.appendChild(d),n.appendChild(r)}))}e.d({},{o:()=>l});const o=document.getElementById("submitBtn"),d=document.getElementById("toDo-Form"),r=document.getElementById("sortTodo");let l=JSON.parse(localStorage.getItem("storeTasks"))||[];class c{constructor(e,t,n){this.title=e,this.inputDate=t,this.dueDate=n}}o.addEventListener("click",(function(){const e=document.getElementById("title").value,t=document.getElementById("dueDate").value,n=new Date;if(document.getElementById("title").value="",""===e||""===t)return alert("Vous devez remplir les champs.");const a=new c(e,n,t);l.push(a),localStorage.setItem("storeTasks",JSON.stringify(l)),s()})),d.addEventListener("submit",(function(e){e.preventDefault()})),r.addEventListener("change",(e=>{"0"===e.target.value&&(l.sort(t),localStorage.setItem("storeTasks",JSON.stringify(l)),s()),"1"===e.target.value&&(l.sort(n),localStorage.setItem("storeTasks",JSON.stringify(l)),s()),"2"===e.target.value&&(l.sort(a),localStorage.setItem("storeTasks",JSON.stringify(l)),s())})),window.addEventListener("load",(()=>{!function(){const e=document.getElementById("nameInput"),t=localStorage.getItem("username")||"";e.value=t,e.addEventListener("change",(e=>{localStorage.setItem("username",e.target.value)}))}(),s()}))})();